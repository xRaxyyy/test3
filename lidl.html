<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>

    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-bold-rounded/css/uicons-bold-rounded.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-bold-straight/css/uicons-bold-straight.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-solid-rounded/css/uicons-solid-rounded.css">

    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/f6f6445ca5.js" crossorigin="anonymous"></script>

    <script src="cart.js" defer></script>

    <link rel="stylesheet" href="test.css">
</head>

<body>
    <section id="navigation">
        <div id="nav-content">

            <div id="logo">
                <img src="img/logo.png" alt="Website Logo">
            </div>

            <div id="shop-btns">
                <li><a id="home-link" href="home.html">Home</a></li>
                <li class="dropdown">
                    <a id="lidl-link" class="active" href="lidl.html">Lidl <i class="fi-sr-angle-small-down"></i></a>
                    <ul class="dropdown-content">
                        <li><a href="lidl/cakes.html">Cakes</a></li>
                        <li><a href="lidl/fonteinen.html">Fonteinen</a></li>
                        <li><a href="lidl/vuurpijlen.html">Vuurpijlen</a></li>
                        <li><a href="lidl/knalvuurwerk.html">Knalvuurwerk</a></li>
                        <li><a href="lidl/pakketten.html">Pakketten</a></li>
                        <li><a href="lidl/singleshots.html">Single Shots</a></li>
                        <li><a href="lidl/overig.html">Overig</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a id="aldi-link" href="#">Aldi <i class="fi-sr-angle-small-down"></i></a>
                    <ul class="dropdown-content">
                        <li><a href="aldi/cakes.html">Cakes</a></li>
                        <!-- other Aldi links -->
                    </ul>
                </li>
            </div>

            <div id="other-btns">
                <i id="search-link" onclick="toggleSearchOverlay()" class="fi-br-search"></i>
                <a id="shopping-cart" href="cart.html">
                    <i id="cart-link" class="fi-br-shopping-bag"></i>
                    <h1 id="cart-counter">0</h1>
                </a>
                <i id="menu-link" onclick="toggleSidebar()" class="fi-br-menu-burger"></i>
            </div>
        </div>
    </section>


    <section id="mobile-sidebar" class="">
        <div id="sidebar-content" class="">
            <div id="sidebar-dropdown">
                <div id="mobile-home-btn">
                    <a href="#" id="home">Home</a>
                </div>    
            </div>
        
            <div id="sidebar-dropdown">
                <div id="mobile-lidl-btn">
                    <a href="lidl.html" id="menu-item">Lidl</a>
                    <i onclick="mobileDD(this.parentNode)" class="fi-sr-angle-small-down arrow-icon"></i>
                </div>
                <div id="content-dropdown" class="">
                    <div id="category-btn"><a href="lidl/cakes.html">Cakes</a></div>
                    <div id="category-btn"><a href="lidl/fonteinen.html">Fonteinen</a></div>
                    <div id="category-btn"><a href="lidl/vuurpijlen.html">Vuurpijlen</a></div>
                    <div id="category-btn"><a href="lidl/knalvuurwerk.html">Knalvuurwerk</a></div>
                    <div id="category-btn"><a href="lidl/pakketten.html">Pakketten</a></div>
                    <div id="category-btn"><a href="lidl/singleshots.html">Single Shots</a></div>
                    <div id="category-btn"><a href="lidl/overig.html">Overig</a></div>
                </div>
            </div>
        
            <div id="sidebar-dropdown">
                <div id="mobile-aldi-btn">
                    <a href="#" id="menu-item" class="menu-item">Aldi</a>
                    <i onclick="mobileDD(this.parentNode)" class="fi-sr-angle-small-down arrow-icon"></i>
                </div>
                <div id="content-dropdown" class="">
                    <div id="category-btn"><a href="#">Cakes</a></div>
                    <div id="category-btn"><a href="#">Fonteinen</a></div>
                    <div id="category-btn"><a href="#">Compounds</a></div>
                </div>
            </div>
        </div>
    </section>
    
    


    <section id="search-overlay">
        <div id="search-bar">
            <div id="search-holder">
                <div id="search-box">
                    <i class="fi-br-search"></i>
                    <input id="search-input" type="text" placeholder="Zoekterm invoeren..">
                    <div id="search-icon">
                        <i class="fi-br-search"></i>
                    </div>
                </div>
                <div id="suggestions" class="suggestions-list">

                </div>
            </div>
        </div>
    </section>


    <section id="lidl-header">
        <h2>Lidl Assortiment</h2>
        <p>2024 / 2025</p>
    </section>

    <section id="product-page">

        <div id="route">
            <a href="../lidl.html"><h1 class="route-active">Lidl vuurwerk</h1></a>
            <!--
                <i class="fi-bs-angle-small-right"></i>
                <h1 class="route-active">Vuurpijlen</h1>
            -->
        </div>

        <div id="block-container"></div>

        <div id="product-section">
            <div id="product-sidebar">

                <div id="sidebar-box">
                    <div id="sidebar-btn" class="active">
                        <a href="lidl.html" id="dropdown-shop">Lidl vuurwerk</a>
                        <i onclick="sidebarDD(this.parentNode)" class="fi-sr-angle-small-down arrow-icon"></i>
                    </div>
                    <div id="category-dropdown">
                        <div id="category-btn"><a href="lidl/cakes.html">Cakes</a></div>
                        <div id="category-btn"><a href="lidl/fonteinen.html">Fonteinen</a></div>
                        <div id="category-btn"><a href="lidl/vuurpijlen.html">Vuurpijlen</a></div>
                        <div id="category-btn"><a href="lidl/knalvuurwerk.html">Knalvuurwerk</a></div>
                        <div id="category-btn"><a href="lidl/pakketten.html">Pakketten</a></div>
                        <div id="category-btn"><a href="lidl/singleshots.html">Single Shots</a></div>
                        <div id="category-btn"><a href="lidl/overig.html">Overig</a></div>
                    </div>
                </div>
                
                <div id="sidebar-box">
                    <div id="sidebar-btn">
                        <a href="aldi.html" id="dropdown-shop">Aldi vuurwerk</a>
                        <i onclick="sidebarDD(this.parentNode)" class="fi-sr-angle-small-down arrow-icon"></i>
                    </div>
                    <div id="category-dropdown">
                        <div id="category-btn"><a href="aldi/cakes.html">Cakes</a></div>
                        <div id="category-btn"><a href="aldi/fonteinen.html">Fonteinen</a></div>
                        <div id="category-btn"><a href="aldi/vuurpijlen.html">Vuurpijlen</a></div>
                        <div id="category-btn"><a href="aldi/knalvuurwerk.html">Knalvuurwerk</a></div>
                        <div id="category-btn"><a href="aldi/pakketten.html">Pakketten</a></div>
                        <div id="category-btn"><a href="aldi/singleshots.html">Single Shots</a></div>
                        <div id="category-btn"><a href="aldi/overig.html">Overig</a></div>
                    </div>
                </div>
            </div>         

            <div id="product-container">
                <div id="listing-row">
                    <div id="page-btn-1">
                        <button id="first-page" onclick="changePage(1)"><i class="fi-bs-angle-double-small-left"></i></button>
                        <button id="prev-page" onclick="prevPage()"><i class="fi-bs-angle-small-left"></i></button>
                        <button id="link-page"></button>
                        <button id="next-page" onclick="nextPage()"><i class="fi-bs-angle-small-right"></i></button>
                        <button id="first-page" onclick="changePage(totalPages)"><i class="fi fi-bs-angle-double-small-right"></i></button>
                    </div>
                    <div id="custom-select">
                        <div class="selected" id="sorting-form">
                            <h1>Naam A-Z</h1>
                            <i class="fi-br-angle-down"></i>
                        </div>
                        <div id="options">
                            <div class="option" data-value="1">Nieuwste eerst</div>
                            <div class="active option" data-value="2">Naam A-Z</div>
                            <div class="option" data-value="3">Naam Z-A</div>
                            <div class="option" data-value="4">Prijs stijgt</div>
                            <div class="option" data-value="5">Prijs Aflopend</div>
                        </div>
                    </div>                                     
                </div>
                <div id="products-rows">

                </div>   
                <div id="listing-row">
                    <div id="page-btn-2">
                        <button id="first-page" onclick="changePage(1)"><i class="fi-bs-angle-double-small-left"></i></button>
                        <button id="prev-page" onclick="prevPage()"><i class="fi-bs-angle-small-left"></i></button>
                        <button id="link-page"></button>
                        <button id="next-page" onclick="nextPage()"><i class="fi-bs-angle-small-right"></i></button>
                        <button id="first-page" onclick="changePage(totalPages)"><i class="fi fi-bs-angle-double-small-right"></i></button>
                    </div>                                    
                </div>
            </div>
        </div>

    </section>

    <footer id="footer">
        <div id="footer-content">
            <h1>Blijf op de hoogte van onze socials</h1>
            <div id="footer-icons">
                <i id="tiktok" class="fa-brands fa-tiktok"></i>
                <i class="fa-brands fa-instagram"></i>
                <i class="fa-brands fa-youtube"></i>
            </div>
        </div>
        <h1 id="copyright">© 2024 - 2024 placeholder</h1>
    </footer>

</body>

<script>
    // Function to handle dropdown toggle
    function sidebarDD(clickedElement) {
        const dropdownContent = clickedElement.nextElementSibling;
        const arrowIcon = clickedElement.querySelector('.arrow-icon');

        dropdownContent.classList.toggle('active');
        arrowIcon.classList.toggle('active');
    }

    // Function to open the active dropdown on page load
    function openActiveDropdowns() {
        // Check each sidebar box
        const sidebarBoxes = document.querySelectorAll('#sidebar-box');

        sidebarBoxes.forEach((box) => {
            const dropdownContent = box.querySelector('#category-dropdown');
            const categoryButtons = box.querySelectorAll('#category-btn > a');

            // Check if any category link in this box is active
            const hasActiveCategory = Array.from(categoryButtons).some(link => link.classList.contains('active'));

            if (hasActiveCategory) {
                dropdownContent.classList.add('active'); // Open dropdown
                const arrowIcon = box.querySelector('.arrow-icon');
                arrowIcon.classList.add('active'); // Rotate arrow icon
            }
        });
    }

    // Call the function to open dropdowns on page load
    document.addEventListener('DOMContentLoaded', openActiveDropdowns);
</script>




<script>
    function toggleSidebar() {
        const sidebar = document.getElementById('mobile-sidebar');
        const sidebarContent = document.getElementById('sidebar-content');
        const searchOverlay = document.getElementById('search-overlay');

        // If the search overlay is active, close it
        if (searchOverlay.classList.contains('visible')) {
            toggleSearchOverlay(); // Close the search overlay
        }

        // Toggle the sidebar
        sidebar.classList.toggle('active');
        sidebarContent.classList.toggle('active');
    }
</script>

<script>
    function mobileDD(clickedElement) {
        const dropdownContent = clickedElement.nextElementSibling;
        const arrowIcon = clickedElement.querySelector('.arrow-icon');
        const menuItem = clickedElement.querySelector('.menu-item');

        dropdownContent.classList.toggle('active');

        // Toggle rotation by adding/removing active class
        arrowIcon.classList.toggle('active');
        menuItem.classList.toggle('active');
    }
</script>

<script>


    // Search script
    
    document.addEventListener("DOMContentLoaded", clearSearchInput);
    window.addEventListener("pageshow", (event) => {
        // Check if the page was loaded from the cache
        if (event.persisted) {
            clearSearchInput();
        }
    });
    
    function clearSearchInput() {
        const searchInput = document.getElementById('search-input');
        // Set the input value to an empty string to clear it
        searchInput.value = '';
    }
    
    
    
    
    function toggleSearchOverlay() {
        const overlay = document.getElementById('search-overlay');
        const searchBar = document.getElementById('search-bar');
        const sidebar = document.getElementById('mobile-sidebar');

        // If the sidebar is active, close it
        if (sidebar.classList.contains('active')) {
            toggleSidebar(); // Close the sidebar
        }

        if (overlay.classList.contains('visible')) {
            // Hide the overlay and search bar
            searchBar.classList.remove('visible'); // Trigger slide-out and fade-out
            overlay.classList.remove('visible'); // Hide the overlay

            // Wait for the transition to finish before hiding the overlay
            setTimeout(() => {
                overlay.style.visibility = 'hidden'; // Hide the overlay
                clearSearchInput();
            }, 300); // Match this time with your CSS transition duration
        } else {
            overlay.style.visibility = 'visible'; // Show the overlay
            overlay.classList.add('visible'); // Trigger fade-in effect
            searchBar.classList.add('visible'); // Trigger slide-in effect
        }
    }
        </script>


<script>
    let searchProducts = [];
    
    // Load products from products.json
    document.addEventListener("DOMContentLoaded", function () {
        fetch('products.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                searchProducts = data; // Load products into the global array
            })
            .catch(error => console.error('Error loading products:', error));
    
        const searchInput = document.getElementById("search-input");
        const suggestions = document.getElementById("suggestions");
        const searchIcon = document.getElementById("search-icon");
    
        // Event listener for input to filter suggestions
        searchInput.addEventListener("input", function () {
            const query = searchInput.value.toLowerCase();
            suggestions.innerHTML = ""; // Clear previous suggestions
    
            if (query) {
                const matchedProducts = searchProducts.filter(product =>
                    product.name.toLowerCase().includes(query)
                ).slice(0, 10); // Limit to first 10 matched products
    
                matchedProducts.forEach((product, index) => {
                    const suggestionHolder = document.createElement("div");
                    suggestionHolder.id = `suggestion-holder`; // Unique ID for each suggestion holder
    
                    const suggestionItem = document.createElement("div");
                    suggestionItem.id = `suggestion-item`; // Unique ID for each suggestion item
    
                    // Create and append the image
                    const suggestionImg = document.createElement("img");
                    suggestionImg.src = product.image; // Assuming product has an 'image' property
                    suggestionImg.alt = product.name; // Set alt text
                    suggestionImg.id = `suggestion-img`; // Unique ID for each image
                    suggestionItem.appendChild(suggestionImg);
    
                    // Create and append the name
                    const suggestionName = document.createElement("h1");
                    suggestionName.textContent = product.name;
                    suggestionName.id = `suggestion-name`; // Unique ID for each name
                    suggestionItem.appendChild(suggestionName);
    
                    // Create and append the price
                    const suggestionPrice = document.createElement("h2");
                    suggestionPrice.textContent = `${product.price}`; // Assuming product has a 'price' property
                    suggestionPrice.id = `suggestion-price`; // Unique ID for each price
                    suggestionItem.appendChild(suggestionPrice);
    
                    // Add click event to redirect
                    suggestionItem.addEventListener("click", () => {
                        const productNameWithHyphens = product.name.replace(/\s+/g, '-'); // Replace spaces with hyphens
                        window.location.href = `/template.html?product=${encodeURIComponent(productNameWithHyphens)}`;
                    });
    
                    suggestionHolder.appendChild(suggestionItem);
                    suggestions.appendChild(suggestionHolder);
                });
    
                suggestions.style.display = "block"; // Show suggestions list
            } else {
                suggestions.style.display = "none"; // Hide suggestions if no query
            }
        });
    
        // Hide suggestions when clicking outside the input
        document.addEventListener("click", (event) => {
            if (!event.target.closest("#search-box")) {
                suggestions.style.display = "none";
            }
        });
    
        // Redirect to search results page on clicking search icon
        searchIcon.addEventListener("click", () => {
            const query = searchInput.value;
            if (query) {
                window.location.href = `/template.html?query=${encodeURIComponent(query)}`;
            }
        });
    });
</script>

    


<script>
// Sample product data
const products = [
    {
        name: "Discovery",
        brand: "Weco",
        price: 2.49,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Magic Djinn",
        brand: "Nico",
        price: 3.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Aligator",
        brand: "Weco",
        price: 3.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Bloody Brilliant",
        brand: "Weco",
        price: 4.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Flashback",
        brand: "Weco",
        price: 5.55,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Hellboy",
        brand: "Weco",
        price: 5.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Power Box",
        brand: "Weco",
        price: 5.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Highway",
        brand: "Nico",
        price: 5.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Matrix",
        brand: "Weco",
        price: 6.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Uranus",
        brand: "Weco",
        price: 7.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Game changer",
        brand: "Nico",
        price: 9.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Infinity Fire",
        brand: "Weco",
        price: 9.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Stormy Flash",
        brand: "Weco",
        price: 13.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Superfly",
        brand: "Weco",
        price: 14.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "The New Beastmaster",
        brand: "Weco",
        price: 15.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Celebration",
        brand: "Weco",
        price: 15.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Daredevil",
        brand: "Weco",
        price: 15.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Pyro Sensation",
        brand: "Nico",
        price: 16.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Black Ice",
        brand: "Weco",
        price: 18.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Big Suprise",
        brand: "Weco",
        price: 18.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Gold Finger",
        brand: "Weco",
        price: 19.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Master Blaster",
        brand: "Nico",
        price: 19.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Pyro Conversion",
        brand: "Nico",
        price: 19.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Cosmic Smash",
        brand: "Nico",
        price: 19.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Queen of the Night",
        brand: "Weco",
        price: 22.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Casino Royale",
        brand: "Weco",
        price: 22.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Final Countdown",
        brand: "Weco",
        price: 24.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Unforgettable",
        brand: "Weco",
        price: 26.99,
        imgSrc: "",
        local: 'true'
    },


    // Compounds

    {
        name: "Fantastic Sky",
        brand: "Nico",
        price: 14.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Spotlight",
        brand: "Weco",
        price: 19.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Magic Dance",
        brand: "Weco",
        price: 24.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Daybreak",
        brand: "Weco",
        price: 29.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Showmaster",
        brand: "Weco",
        price: 34.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Rising Colours",
        brand: "Weco",
        price: 54.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Big Finish",
        brand: "Weco",
        price: 79.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Pure Magic",
        brand: "Weco",
        price: 79.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Mastermind",
        brand: "Weco",
        price: 89.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Fire Dome",
        brand: "Weco",
        price: 99.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Colossus",
        brand: "Weco",
        price: 99.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Thunder Stroke",
        brand: "Weco",
        price: 99.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Legend",
        brand: "Weco",
        price: 129.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Cosmopolitan",
        brand: "Weco",
        price: 159.99,
        imgSrc: "",
        local: 'true'
    },

    
    // Fonteinen

    {
        name: "Laser",
        brand: "Weco",
        price: 3.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Yin und Yang",
        brand: "Weco",
        price: 4.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Vulkan Stars",
        brand: "Weco",
        price: 6.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Ocean of lights",
        brand: "Weco",
        price: 8.99,
        imgSrc: "",
        local: 'false'
    },


    // Vuurpijlen

    {
        name: "Gold Raketen",
        brand: "Weco",
        price: 9.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "High Speed Rockets",
        brand: "Weco",
        price: 9.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "High Speed Bombs",
        brand: "Weco",
        price: 9.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Phantoms and Ghosts",
        brand: "Nico",
        price: 13.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Rocket Clash",
        brand: "Weco",
        price: 17.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Arena of Rockets",
        brand: "Weco",
        price: 21.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Heroes of Fire",
        brand: "Nico",
        price: 24.99,
        imgSrc: "",
        local: 'true'
    },


    // Knal vuurwerk

    {
        name: "Kracher Inferno",
        brand: "Weco",
        price: 3.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Kubische Kanonenschläge",
        brand: "Weco",
        price: 3.99,
        imgSrc: "",
        local: 'false'
    },


    // Single shots

    {
        name: "Flash bang",
        brand: "Weco",
        price: 3.49,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Double Flash",
        brand: "Weco",
        price: 3.49,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Double Crusher",
        brand: "Nico",
        price: 3.49,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Sky Shots",
        brand: "Weco",
        price: 3.99,
        imgSrc: "",
        local: 'false'
    },


    // Pakketten 

    {
        name: "Pyro-mix for kids",
        brand: "Weco",
        price: 3.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Party Animal",
        brand: "Weco",
        price: 4.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Leucht-spektakel",
        brand: "Weco",
        price: 5.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Super sonic",
        brand: "Weco",
        price: 7.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Fire Fantasy",
        brand: "Weco",
        price: 8.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "World Champion",
        brand: "Weco",
        price: 19.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Jewels of the sky",
        brand: "Weco",
        price: 21.99,
        imgSrc: "",
        local: 'true'
    },
    {
        name: "Bombette",
        brand: "Weco",
        price: 37.99,
        imgSrc: "",
        local: 'false'
    },


    // Overig 

    {
        name: "Party fun-bag",
        brand: "Weco",
        price: 2.79,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Zauber Lichten",
        brand: "Weco",
        price: 3.49,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Tischfeuerwerk",
        brand: "Weco",
        price: 3.99,
        imgSrc: "",
        local: 'false'
    },
    {
        name: "Twister",
        brand: "Weco",
        price: 5.99,
        imgSrc: "",
        local: 'false'
    },

    // Add more products as needed
];


document.addEventListener("DOMContentLoaded", () => {

    localStorage.setItem('sortingValue', '2');

});

// Global variable to store the active option
let activeOption = null;

let currentPage = 1; // Track the current page
const productsPerPage = 24; // Number of products per page

// Function to display products
function displayProducts() {
    const productContainer = document.getElementById('products-rows');
    productContainer.innerHTML = ''; // Clear existing products

    // Calculate start and end index for slicing the products array
    const startIndex = (currentPage - 1) * productsPerPage;
    const endIndex = startIndex + productsPerPage;
    const productsToDisplay = products.slice(startIndex, endIndex);

    productsToDisplay.forEach(product => {

        const productLink = encodeURIComponent(product.name.replace(/ /g, '-'));


        const productBox = `
            <div id="product-box">
                <a href="../test.html?product=${productLink}" class="product-link">
                    <div id="product-img-box">
                        ${product.local === 'true' ? `
                            <div id="alert">
                                <i class="fi-rr-exclamation" id="exclamation-icon"></i>
                                <span id="alert-text">Let op! Alleen lokaal beschikbaar</span>
                            </div>
                        ` : ''}
                        <img id="product-img" src="${product.imgSrc}" alt="${productLink}">
                    </div>
                    <span class="shop" style="display: none;">Lidl</span>
                    <h1 id="product-brand">${product.brand}</h1>
                    <h2 id="product-name">${product.name}</h2>
                    <h3 id="product-price">€${product.price.toFixed(2)}</h3>
                </a>
                <button id="product-cart" onclick="addToCart(event, '${product.name}')">Voeg toe aan lijstje</button>
            </div>
        `;
        productContainer.innerHTML += productBox;
    });

    // Display pagination controls
    displayPagination();
}

// Function to display pagination controls
function displayPagination(containerId) {
    const paginationContainer = document.getElementById(containerId);
    if (!paginationContainer) return; // Ensure the container exists

    paginationContainer.innerHTML = ''; // Clear existing pagination controls

    const totalPages = Math.ceil(products.length / productsPerPage);

    // Add First and Previous buttons (always visible, disabled when on the first page)
    paginationContainer.innerHTML += `
        <button id="first-page-${containerId}" onclick="changePage(1, '${containerId}')" ${currentPage === 1 ? 'disabled' : ''}>
            <i class="fi-bs-angle-double-small-left"></i>
        </button>
        <button id="prev-page-${containerId}" onclick="prevPage('${containerId}')" ${currentPage === 1 ? 'disabled' : ''}>
            <i class="fi-bs-angle-small-left"></i>
        </button>
    `;

    // Add page numbers
    for (let i = 1; i <= totalPages; i++) {
        paginationContainer.innerHTML += `
            <button id="link-page-${containerId}" class="${i === currentPage ? 'active' : ''}" onclick="changePage(${i}, '${containerId}')">
                ${i}
            </button>
        `;
    }

    // Add Next and Last buttons (always visible, disabled when on the last page)
    paginationContainer.innerHTML += `
        <button id="next-page-${containerId}" onclick="nextPage('${containerId}')" ${currentPage === totalPages ? 'disabled' : ''}>
            <i class="fi-bs-angle-small-right"></i>
        </button>
        <button id="last-page-${containerId}" onclick="changePage(${totalPages}, '${containerId}')" ${currentPage === totalPages ? 'disabled' : ''}>
            <i class="fi-bs-angle-double-small-right"></i>
        </button>
    `;
}

// Function to change page
function changePage(page, containerId) {
    currentPage = page;
    displayProducts();
    displayPagination(containerId); // Update the specific pagination container
    displayPagination(containerId === 'page-btn-1' ? 'page-btn-2' : 'page-btn-1'); // Update the other pagination container
}

// Function to go to the previous page
function prevPage(containerId) {
    if (currentPage > 1) {
        currentPage--;
        displayProducts();
        displayPagination(containerId);
        displayPagination(containerId === 'page-btn-1' ? 'page-btn-2' : 'page-btn-1');
    }
}

// Function to go to the next page
function nextPage(containerId) {
    const totalPages = Math.ceil(products.length / productsPerPage);
    if (currentPage < totalPages) {
        currentPage++;
        displayProducts();
        displayPagination(containerId);
        displayPagination(containerId === 'page-btn-1' ? 'page-btn-2' : 'page-btn-1');
    }
}

// Initialize both pagination containers
displayPagination('page-btn-1'); // First pagination container
displayPagination('page-btn-2'); // Second pagination container


// Function to sort products
function sortProducts(criteria) {
    if (criteria === "name-asc") {
        products.sort((a, b) => a.name.localeCompare(b.name));
    } else if (criteria === "name-desc") {
        products.sort((a, b) => b.name.localeCompare(a.name));
    } else if (criteria === "price-asc") {
        products.sort((a, b) => a.price - b.price);
    } else if (criteria === "price-desc") {
        products.sort((a, b) => b.price - a.price);
    }

    // After sorting, reset to the first page and display the products again
    currentPage = 1;
    displayProducts();
}


// Function to toggle dropdown options
function toggleDropdown() {
    const options = document.getElementById('options');
    const isOpen = options.style.display === 'block';
    options.style.display = isOpen ? 'none' : 'block';
}

document.addEventListener("DOMContentLoaded", () => {
    displayProducts(); // Show products on page load
    sortProducts("name-asc"); // Default sorting A-Z

    const sortingTitle = document.getElementById('sorting-form');
    sortingTitle.addEventListener("click", toggleDropdown); // Toggle dropdown on title click

    const optionElements = document.querySelectorAll('.option'); // Assuming options have this class

    optionElements.forEach(option => {
        option.addEventListener("click", function () {
            sortingTitle.querySelector("h1").innerText = option.innerText; // Update displayed text
            const sortingValue = option.dataset.value; // Get the data-value attribute

            // Call sortProducts based on selected sorting option
            if (sortingValue == 1) sortProducts("price-desc"); // Nieuwste eerst (assuming newest = highest price)
            if (sortingValue == 2) sortProducts("name-asc"); // Name A-Z
            if (sortingValue == 3) sortProducts("name-desc"); // Name Z-A
            if (sortingValue == 4) sortProducts("price-asc"); // Price Low to High
            if (sortingValue == 5) sortProducts("price-desc"); // Price High to Low

            // Hide options after selection
            const options = document.getElementById('options');
            options.style.display = "none";

            // Remove active class from all options and set it to the selected option
            optionElements.forEach(opt => opt.classList.remove('active'));
            option.classList.add('active'); // Add active class to the selected option
            activeOption = option; // Update the activeOption variable
        });

        // Remove the active class when hovering over options
        option.addEventListener('mouseenter', function () {
            const currentActive = options.querySelector('.active');
            if (currentActive && currentActive !== option) {
                currentActive.classList.remove('active');
            }
        });
    });

    // Close the dropdown when clicking outside of it
    document.addEventListener("click", function (event) {
        const options = document.getElementById('options');
        const sortingForm = document.getElementById('sorting-form');

        // Check if the click was outside the dropdown and title
        if (options.style.display === "block" && !options.contains(event.target) && !sortingForm.contains(event.target)) {
            options.style.display = "none"; // Hide options if they are open
            
            // Restore the active class to the previously selected option
            optionElements.forEach(option => {
                option.classList.remove('active'); // Remove active from all
            });
            if (activeOption) {
                activeOption.classList.add('active'); // Add active to the remembered option
            }
        }
    });
});
</script>

<script>

window.onload = function() {

    sessionStorage.setItem('lastVisitedPage', window.location.href);
    
    const profileDropdown = document.getElementById('profile-dropdown');

    if (profileDropdown) {
        const loggedIn = sessionStorage.getItem('loggedIn') === 'true' || localStorage.getItem('loggedIn') === 'true'
        
        if (loggedIn) {
            const click = sessionStorage.getItem('click') === 'true' || localStorage.getItem('click') === 'true'
            const accountLink = document.getElementById('account-link');
            document.getElementById('account-link').href = 'javascript:void(0)'

            if (click) {
                profileDropdown.classList.add('click');

                const username = localStorage.getItem('username');
                if (username) {
                    document.getElementById('profile-username').innerText = username;
                }
            }

            else {
                profileDropdown.classList.add('logged-in');
                
                // Restore the username from localStorage
                const username = localStorage.getItem('username');
                if (username) {
                    document.getElementById('profile-username').innerText = username;
                }
            }
        }

        else {
            profileDropdown.classList.remove('click');
            profileDropdown.classList.remove('logged-in');
            document.getElementById('account-link').href = 'account.html'
        }

    }
};


document.addEventListener('click', function(event) {
    const profileDropdown = document.getElementById('profile-dropdown');

    // Check if the clicked target is not the profile content or its children
    if (profileDropdown.classList.contains('click') && !profileDropdown.contains(event.target)) {
        profileDropdown.classList.remove('click');
        profileDropdown.classList.add('logged-in');

        sessionStorage.setItem('click', 'false');
        localStorage.setItem('click', 'false');
    }
});
    </script>